---
comments: true
---

# ST 表

ST 表用来解决 RMQ 问题，是倍增思想。

设 $st_{i, j}$ 为区间 $[i,\ i+2^j-1]$ 的最值，把他当成 dp 来做，不难想出转移方程（两个小区间拼一块）：

$$st_{i, j} = \max(dp_{i, j-1},\ dp_{i+2^{j-1}, j-1})$$

预处理搞出来这一部分就好了。

对于每次询问 $[l,\ r]$，答案就是 $[l,\ l+x-1]$ 和 $[r-x+1,\ r]$ 这两个区间的最值（$x=2^{\lfloor\log_2(r-l+1)\rfloor}$）。
